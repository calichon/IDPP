<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="VehiculoCreateDlg" widgetVar="VehiculoCreateDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.CreateVehiculoTitle}">
            <h:form id="VehiculoCreateForm" enctype="multipart/form-data">
                <p:messages autoUpdate="true" id="msgs" showDetail="true" showSummary="true" />
                <h:panelGroup id="display">
                    <p:panelGrid rendered="#{vehiculoController.selected != null}">
                        <ui:remove>
                        <p:outputLabel value="#{bundle.CreateVehiculoLabel_codVehiculo}" for="codVehiculo" />
                        <p:inputText id="codVehiculo" value="#{vehiculoController.selected.codVehiculo}" title="#{bundle.CreateVehiculoTitle_codVehiculo}" required="true" requiredMessage="#{bundle.CreateVehiculoRequiredMessage_codVehiculo}"/>
                        </ui:remove>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_placa}" for="placa" />
                            </p:column>
                            <p:column colspan="4">
                                <p:inputText id="placa" value="#{vehiculoController.selected.placa}" title="#{bundle.CreateVehiculoTitle_placa}">
                                    <p:ajax event="keypress" delay="200" listener="#{vehiculoController.verifyPlacaOnCreate}" update="buttonCreateVehiculo" />
                                </p:inputText>
                                
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_nit}" for="nit" />
                            </p:column>
                            <p:column colspan="4">
                                <p:inputText id="nit" value="#{vehiculoController.selected.nit}" title="#{bundle.CreateVehiculoTitle_nit}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_poliza}" for="poliza" />
                            </p:column>
                            <p:column colspan="5">
                                <p:inputText id="poliza" value="#{vehiculoController.selected.poliza}" title="#{bundle.CreateVehiculoTitle_poliza}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_direccion}" for="direccion" />
                            </p:column>
                            <p:column colspan="15">
                                <p:inputText id="direccion" value="#{vehiculoController.selected.direccion}" title="#{bundle.CreateVehiculoTitle_direccion}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codDepartamento}" for="codDepartamento" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codDepartamento" value="#{vehiculoController.selected.codDepartamento}" effect="fold" filter="true" filterMatchMode="contains">
                                    <p:ajax listener="#{vehiculoController.onDepartamentoChange}" update="codMunicipio" />
                                    <f:selectItem itemLabel="Seleccione departamento" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{departamentoController.itemsAvailableSelectOneOrdered}"
                                                   var="codDepartamentoItem"
                                                   itemValue="#{codDepartamentoItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codMunicipio}" for="codMunicipio" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codMunicipio" value="#{vehiculoController.selected.codMunicipio}" effect="fold" filter="true" filterMatchMode="contains" >
                                    <f:selectItem itemLabel="Seleccione municipio" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{vehiculoController.itemsMunicipio}"
                                                   var="codMunicipioItem"
                                                   itemValue="#{codMunicipioItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_nombre}" for="nombre" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="nombre" value="#{vehiculoController.selected.nombre}" title="#{bundle.CreateVehiculoTitle_nombre}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_modelo}" for="modelo" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="modelo" value="#{vehiculoController.selected.modelo}" title="#{bundle.CreateVehiculoTitle_modelo}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codTipoUso}" for="codTipoUso" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codTipoUso" value="#{vehiculoController.selected.codTipoUso}" >
                                    <f:selectItem itemLabel="Seleccione uso del vehículo" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tipoUsoController.itemsAvailableSelectOne}"
                                                   var="codTipoUsoItem"
                                                   itemValue="#{codTipoUsoItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_chasis}" for="chasis" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="chasis" value="#{vehiculoController.selected.chasis}" title="#{bundle.CreateVehiculoTitle_chasis}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codTipoTipo}" for="codTipoTipo" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codTipoTipo" value="#{vehiculoController.selected.codTipoTipo}" effect="fold" filter="true" filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione tipo de vehículo" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{tipoTipoController.itemsAvailableSelectOne}"
                                                   var="codTipoTipoItem"
                                                   itemValue="#{codTipoTipoItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codMarca}" for="codMarca" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codMarca" value="#{vehiculoController.selected.codMarca}" effect="fold" filter="true" filterMatchMode="contains">
                                    <p:ajax listener="#{vehiculoController.onMarcaChange}" update="codLinea" />
                                    <f:selectItem itemLabel="Seleccione marca" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{marcaController.itemsAvailableSelectOneOrdered}"
                                                   var="codMarcaItem"
                                                   itemValue="#{codMarcaItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codLinea}" for="codLinea" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codLinea" value="#{vehiculoController.selected.codLinea}" effect="fold" filter="true" filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione línea" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{vehiculoController.itemsLinea}"
                                                   var="codLineaItem"
                                                   itemValue="#{codLineaItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_vin}" for="vin" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="vin" value="#{vehiculoController.selected.vin}" title="#{bundle.CreateVehiculoTitle_vin}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_centimetrosCubicos}" for="centimetrosCubicos" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="centimetrosCubicos" value="#{vehiculoController.selected.centimetrosCubicos}" title="#{bundle.CreateVehiculoTitle_centimetrosCubicos}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_cilindros}" for="cilindros" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="cilindros" value="#{vehiculoController.selected.cilindros}" title="#{bundle.CreateVehiculoTitle_cilindros}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_toneladas}" for="toneladas" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="toneladas" value="#{vehiculoController.selected.toneladas}" title="#{bundle.CreateVehiculoTitle_toneladas}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_titulo}" for="titulo" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="titulo" value="#{vehiculoController.selected.titulo}" title="#{bundle.CreateVehiculoTitle_titulo}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_tarjetaCirculacion}" for="tarjetaCirculacion" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="tarjetaCirculacion" value="#{vehiculoController.selected.tarjetaCirculacion}" title="#{bundle.CreateVehiculoTitle_tarjetaCirculacion}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codColor}" for="codColor" />
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="codColor" value="#{vehiculoController.selected.codColor}" effect="fold" filter="true" filterMatchMode="contains">
                                    <f:selectItem itemLabel="Seleccione color" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{colorController.itemsAvailableSelectOne}"
                                                   var="codColorItem"
                                                   itemValue="#{codColorItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_noAsientos}" for="noAsientos" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="noAsientos" value="#{vehiculoController.selected.noAsientos}" title="#{bundle.CreateVehiculoTitle_noAsientos}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_noMotor}" for="noMotor" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="noMotor" value="#{vehiculoController.selected.noMotor}" title="#{bundle.CreateVehiculoTitle_noMotor}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_noInventarioRegistro}" for="noInventarioRegistro" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText id="noInventarioRegistro" value="#{vehiculoController.selected.noInventarioRegistro}" title="#{bundle.CreateVehiculoTitle_noInventarioRegistro}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codPersonaAsignacion}" for="codPersonaAsignacion" />
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="codPersonaAsignacion" value="#{vehiculoController.selected.codPersonaAsignacion}" effect="fold" filter="true" filterMatchMode="contains">
                                    <p:ajax listener="#{vehiculoController.onPersonaAsignacionChange}" update="codPueston"/>
                                    <f:selectItem itemLabel="Seleccione persona responsable" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{personaController.itemsAvailableSelectOne}"
                                                   var="codPersonaAsignacionItem"
                                                   itemValue="#{codPersonaAsignacionItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="3">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_codPueston}" for="codPueston" />
                            </p:column>
                            <p:column colspan="4">
                                <p:selectOneMenu id="codPueston" value="#{vehiculoController.selected.codPueston}" disabled="true">
                                    <f:selectItem itemLabel="Seleccione puesto de la persona" itemDisabled="true" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{puestoController.itemsAvailableSelectOne}"
                                                   var="codPuestonItem"
                                                   itemValue="#{codPuestonItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="2">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_orden}" for="orden" />
                            </p:column>
                            <p:column colspan="6">
                                <p:inputText id="orden" value="#{vehiculoController.selected.orden}" title="#{bundle.CreateVehiculoTitle_orden}" />
                            </p:column>
                            <p:column colspan="2">
                                <p:outputLabel value="#{bundle.CreateVehiculoLabel_activo}" for="activo" />
                            </p:column>
                            <p:column colspan="6">
                                <p:selectBooleanCheckbox id="activo" value="#{vehiculoController.selected.activo}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="16">
                                <p:fileUpload fileUploadListener="#{vehiculoController.handleFileUpload}" update="messages" mode="advanced" sizeLimit="1000000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="16">
                                <p:growl id="messages" showDetail="true" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton id="buttonCreateVehiculo" disabled="#{vehiculoController.buttonCreateEnabled}" ajax="false" actionListener="#{vehiculoController.create}" value="#{bundle.Save}" update="display,:VehiculoListForm:datalist,:growl" oncomplete="handleSubmit(args,'VehiculoCreateDialog');"/>
                    <p:commandButton value="#{bundle.Cancel}" onclick="PF('VehiculoCreateDialog').hide()"/>
                </h:panelGroup>
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
