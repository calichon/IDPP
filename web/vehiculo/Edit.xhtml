<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="VehiculoEditDlg" widgetVar="VehiculoEditDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.EditVehiculoTitle}">
            <h:form id="VehiculoEditForm">
                <p:messages autoUpdate="true" id="msgs" showDetail="true" showSummary="true" />
                <h:panelGroup id="display">
                    <p:panelGrid rendered="#{vehiculoController.selected != null}">
                        <ui:remove>
                        <p:outputLabel value="#{bundle.EditVehiculoLabel_codVehiculo}" for="codVehiculo" />
                        <p:inputText id="codVehiculo" value="#{vehiculoController.selected.codVehiculo}" title="#{bundle.EditVehiculoTitle_codVehiculo}" required="true" requiredMessage="#{bundle.EditVehiculoRequiredMessage_codVehiculo}"/>
                        </ui:remove>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_placa}" for="placa" />
                            </p:column>
                            <p:column colspan="4">
                                <p:inputText id="placa" value="#{vehiculoController.selected.placa}" title="#{bundle.EditVehiculoTitle_placa}">
                                    <p:ajax event="keypress" delay="200" listener="#{vehiculoController.verifyPlacaOnUpdate}" update="buttonUpdateVehiculo" />
                                </p:inputText>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_nit}" for="nit" />
                            </p:column>
                            <p:column colspan="4">
                                <p:inputText id="nit" value="#{vehiculoController.selected.nit}" title="#{bundle.EditVehiculoTitle_nit}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_poliza}" for="poliza" />
                            </p:column>
                            <p:column colspan="5">
                                <p:inputText id="poliza" value="#{vehiculoController.selected.poliza}" title="#{bundle.EditVehiculoTitle_poliza}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_direccion}" for="direccion" />
                            </p:column>
                            <p:column colspan="15">
                                <p:inputText id="direccion" value="#{vehiculoController.selected.direccion}" title="#{bundle.EditVehiculoTitle_direccion}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codDepartamento}" for="codDepartamento" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codDepartamento" value="#{vehiculoController.selected.codDepartamento}" >
                                    <p:ajax listener="#{vehiculoController.onDepartamentoChange}" update="codMunicipio" />
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{departamentoController.itemsAvailableSelectOneOrdered}"
                                                   var="codDepartamentoItem"
                                                   itemValue="#{codDepartamentoItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codMunicipio}" for="codMunicipio" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codMunicipio" value="#{vehiculoController.selected.codMunicipio}" >
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{vehiculoController.itemsMunicipio}"
                                                   var="codMunicipioItem"
                                                   itemValue="#{codMunicipioItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_nombre}" for="nombre" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="nombre" value="#{vehiculoController.selected.nombre}" title="#{bundle.EditVehiculoTitle_nombre}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_modelo}" for="modelo" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="modelo" value="#{vehiculoController.selected.modelo}" title="#{bundle.EditVehiculoTitle_modelo}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codTipoUso}" for="codTipoUso" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codTipoUso" value="#{vehiculoController.selected.codTipoUso}" >
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{tipoUsoController.itemsAvailableSelectOne}"
                                                   var="codTipoUsoItem"
                                                   itemValue="#{codTipoUsoItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_chasis}" for="chasis" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="chasis" value="#{vehiculoController.selected.chasis}" title="#{bundle.EditVehiculoTitle_chasis}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codTipoTipo}" for="codTipoTipo" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codTipoTipo" value="#{vehiculoController.selected.codTipoTipo}" >
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{tipoTipoController.itemsAvailableSelectOne}"
                                                   var="codTipoTipoItem"
                                                   itemValue="#{codTipoTipoItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codMarca}" for="codMarca" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codMarca" value="#{vehiculoController.selected.codMarca}" >
                                    <p:ajax listener="#{vehiculoController.onMarcaChange}" update="codLinea" />
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{marcaController.itemsAvailableSelectOne}"
                                                   var="codMarcaItem"
                                                   itemValue="#{codMarcaItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codLinea}" for="codLinea" />
                            </p:column>
                            <p:column colspan="7">
                                <p:selectOneMenu id="codLinea" value="#{vehiculoController.selected.codLinea}" >
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{vehiculoController.itemsLinea}"
                                                   var="codLineaItem"
                                                   itemValue="#{codLineaItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_vin}" for="vin" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="vin" value="#{vehiculoController.selected.vin}" title="#{bundle.EditVehiculoTitle_vin}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_centimetrosCubicos}" for="centimetrosCubicos" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="centimetrosCubicos" value="#{vehiculoController.selected.centimetrosCubicos}" title="#{bundle.EditVehiculoTitle_centimetrosCubicos}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_cilindros}" for="cilindros" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="cilindros" value="#{vehiculoController.selected.cilindros}" title="#{bundle.EditVehiculoTitle_cilindros}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_toneladas}" for="toneladas" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="toneladas" value="#{vehiculoController.selected.toneladas}" title="#{bundle.EditVehiculoTitle_toneladas}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_titulo}" for="titulo" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="titulo" value="#{vehiculoController.selected.titulo}" title="#{bundle.EditVehiculoTitle_titulo}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_tarjetaCirculacion}" for="tarjetaCirculacion" />
                            </p:column>
                            <p:column colspan="7">
                                <p:inputText id="tarjetaCirculacion" value="#{vehiculoController.selected.tarjetaCirculacion}" title="#{bundle.EditVehiculoTitle_tarjetaCirculacion}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codColor}" for="codColor" />
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="codColor" value="#{vehiculoController.selected.codColor}" >
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{colorController.itemsAvailableSelectOne}"
                                                   var="codColorItem"
                                                   itemValue="#{codColorItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_noAsientos}" for="noAsientos" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="noAsientos" value="#{vehiculoController.selected.noAsientos}" title="#{bundle.EditVehiculoTitle_noAsientos}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_noMotor}" for="noMotor" />
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText id="noMotor" value="#{vehiculoController.selected.noMotor}" title="#{bundle.EditVehiculoTitle_noMotor}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_noInventarioRegistro}" for="noInventarioRegistro" />
                            </p:column>
                            <p:column colspan="2">
                                <p:inputText id="noInventarioRegistro" value="#{vehiculoController.selected.noInventarioRegistro}" title="#{bundle.EditVehiculoTitle_noInventarioRegistro}" />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codPersonaAsignacion}" for="codPersonaAsignacion" />
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="codPersonaAsignacion" value="#{vehiculoController.selected.codPersonaAsignacion}" >
                                    <p:ajax listener="#{vehiculoController.onPersonaAsignacionChange}" update="codPueston"/>
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{personaController.itemsAvailableSelectOne}"
                                                   var="codPersonaAsignacionItem"
                                                   itemValue="#{codPersonaAsignacionItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column colspan="3">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_codPueston}" for="codPueston" />
                            </p:column>
                            <p:column colspan="4">
                                <p:selectOneMenu id="codPueston" value="#{vehiculoController.selected.codPueston}" disabled="true">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{puestoController.itemsAvailableSelectOne}"
                                                   var="codPuestonItem"
                                                   itemValue="#{codPuestonItem}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="2">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_orden}" for="orden" />
                            </p:column>
                            <p:column colspan="6">
                                <p:inputText id="orden" value="#{vehiculoController.selected.orden}" title="#{bundle.EditVehiculoTitle_orden}" />
                            </p:column>
                            <p:column colspan="2">
                                <p:outputLabel value="#{bundle.EditVehiculoLabel_activo}" for="activo" />
                            </p:column>
                            <p:column colspan="6">
                                <p:selectBooleanCheckbox id="activo" value="#{vehiculoController.selected.activo}" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <p:commandButton id="buttonUpdateVehiculo" actionListener="#{vehiculoController.update}" value="#{bundle.Save}" update="display,:VehiculoListForm:datalist,:growl" oncomplete="handleSubmit(args, 'VehiculoEditDialog');"/>
                    <p:commandButton value="#{bundle.Cancel}" onclick="PF('VehiculoEditDialog').hide()"/>
                    <h:dataTable id="tablaImagenes" value="#{vehiculoController.selected.imagenList}" var="itemImagen">
                        <h:column><h:inputText value="#{itemImagen.pathImagen}" /></h:column>
                        <h:column><h:graphicImage value = "#{itemImagen.pathImagen}" width="80px"/></h:column>
                        <h:column>
                            <p:commandButton value="Removerrrr" actionListener="#{vehiculoController.destroyImagen(itemImagen)}" update="tablaImagenes"/>
                        </h:column>
                        <h:column>
                            <h:commandButton value="remove" action="#{vehiculoController.destroyImagen(itemImagen)}" />
                        </h:column>
                    </h:dataTable>
                </h:panelGroup>

            </h:form>
        </p:dialog>
    </ui:composition>
</html>
