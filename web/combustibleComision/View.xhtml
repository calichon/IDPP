<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="CombustibleComisionViewDlg" widgetVar="CombustibleComisionViewDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.ViewCombustibleComisionTitle}" onShow="updateDialog()">
            <h:form id="CombustibleComisionViewForm">
                <p:remoteCommand name="updateDialog" update="cuponest" actionListener="#{combustibleComisionController.init()}"/>
                <h:panelGroup id="display">
                    <p:panelGrid rendered="#{combustibleComisionController.selected != null}">
                        <f:facet name="header">
                        <p:row>
                            <p:column >Datos generales</p:column>
                        </p:row>
                        </f:facet>
                        <p:row>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_fechaEntrega}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.fechaEntrega}" title="#{bundle.ViewCombustibleComisionTitle_fechaEntrega}">
                                    <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                                </h:outputText>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codPersonaSolicitante}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.codPersonaSolicitante.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codPersonaSolicitante}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codPuestoSolicitante}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.codPuestoSolicitante.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codPuestoSolicitante}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codSede}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.codSede.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codSede}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codUnidad}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.codUnidad.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codUnidad}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column styleClass="ui-widget-header">Datos del vehículo</p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codVehiculo}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.codVehiculo.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codVehiculo}"/>
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.ViewCombustibleComisionLabel_vehiculoTipo}"  />
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText  id="vehiculoTipo" value="#{combustibleComisionController.selected.codVehiculo.codTipoTipo.nombreTipoTipo}"  />
                            </p:column>
                            <p:column colspan="1">
                                <p:outputLabel value="#{bundle.ViewCombustibleComisionLabel_vehiculoMarca}"  />
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText  id="vehiculoMarca" value="#{combustibleComisionController.selected.codVehiculo.codMarca.nombreMarca}"  />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_kilometrajeActual}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.kilometrajeActual}" title="#{bundle.ViewCombustibleComisionTitle_kilometrajeActual}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_comisionA}"/>
                            </p:column>
                            <p:column colspan="1">
                                <h:outputText value="#{combustibleComisionController.selected.comisionA}" title="#{bundle.ViewCombustibleComisionTitle_comisionA}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_cantidadEstimadaCarga}"/>
                            </p:column>
                            <p:column colspan="5">
                                <h:outputText value="#{combustibleComisionController.selected.cantidadEstimadaCarga}" title="#{bundle.ViewCombustibleComisionTitle_cantidadEstimadaCarga}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="1">
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_observaciones}"/>
                            </p:column>
                            <p:column colspan="5">
                                <h:outputText value="#{combustibleComisionController.selected.observaciones}" title="#{bundle.ViewCombustibleComisionTitle_observaciones}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column styleClass="ui-widget-header">Descripción de cupones</p:column>
                        </p:row>

                        <p:row>
                            <p:column colspan="6">
                                <p:dataTable id="cuponest" style="width: 805px" var="cupon" value="#{combustibleComisionController.cupones}">
                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column headerText="Cantidad"/>
                                            <p:column headerText="Denominación"/>
                                            <p:column colspan="2" headerText="Numeración"/>
                                            <p:column headerText="Total"/>
                                        </p:row>
                                    </p:columnGroup>
                                        <p:column>
                                            <h:outputText value="#{cupon.cantidadCupones}"/>
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="#{cupon.codCuponDenominancion.descripcion}"/>
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="#{bundle.ViewCombustibleComisionLabel_numeroCuponInicial}" />
                                            <h:outputText value="#{cupon.numeroCuponInicial}"/>
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="#{bundle.ViewCombustibleComisionLabel_numeroCuponFinal}" />
                                            <h:outputText value="#{cupon.numeroCuponFinal}"/>
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="#{bundle.ViewCombustibleComisionLabel_sumaTotal}" />
                                            <h:outputText id="sumaTotal" value="#{combustibleComisionController.getTotal(cupon)}" />
                                        </p:column>
                                </p:dataTable>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codPersonaReceptor}"/>
                            </p:column>
                            <p:column>
                                <h:outputText value="#{combustibleComisionController.selected.codPersonaReceptor.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codPersonaReceptor}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codPuestoReceptor}"/>
                            </p:column>
                            <p:column>
                                <h:outputText value="#{combustibleComisionController.selected.codPuestoReceptor.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codPuestoReceptor}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="#{bundle.ViewCombustibleComisionLabel_codPersonaEncargadoTransporte}"/>
                            </p:column>
                            <p:column>
                                <h:outputText value="#{combustibleComisionController.selected.codPersonaEncargadoTransporte.toString()}" title="#{bundle.ViewCombustibleComisionTitle_codPersonaEncargadoTransporte}"/>
                            </p:column>
                        </p:row>
                        <ui:remove>
                        <h:outputText value="#{bundle.ViewCombustibleComisionLabel_importeTotalLetras}"/>
                        <h:outputText value="#{combustibleComisionController.selected.importeTotalLetras}" title="#{bundle.ViewCombustibleComisionTitle_importeTotalLetras}"/>
                        </ui:remove>
                    </p:panelGrid>
                    <p:commandButton value="#{bundle.Close}" onclick="PF('CombustibleComisionViewDialog').hide()"/>
                </h:panelGroup>
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
